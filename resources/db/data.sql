-- vCampus 虚拟校园系统初始数据
-- 根据重写的表结构更新初始化数据
USE vcampus;

-- ========================================
-- 用户认证数据（users表）
-- ========================================

-- 插入管理员用户认证信息 (密码: admin123)
INSERT INTO users (login_id, password, role, avatar_path) VALUES 
('admin', '0192023a7bbd73250516f069df18b500', 2, 'avatars/p (1).jpg');

-- 插入教师用户认证信息 (密码: teacher123)
INSERT INTO users (login_id, password, role, avatar_path) VALUES 
('T001', 'a426dcf72ba25d046591f81a5495eab7', 1, 'avatars/p (2).jpg'),
('T002', 'a426dcf72ba25d046591f81a5495eab7', 1, 'avatars/p (3).jpg'),
('T003', 'a426dcf72ba25d046591f81a5495eab7', 1, 'avatars/p (4).jpg');

-- 插入学生用户认证信息 (密码: student123)
INSERT INTO users (login_id, password, role, avatar_path) VALUES 
('2021001', 'ad6a280417a0f533d8b670c61667e1a0', 0, 'avatars/p (5).jpg'),
('2021002', 'ad6a280417a0f533d8b670c61667e1a0', 0, 'avatars/p (6).jpg'),
('2021003', 'ad6a280417a0f533d8b670c61667e1a0', 0, 'avatars/p (7).jpg'),
('2021004', 'ad6a280417a0f533d8b670c61667e1a0', 0, 'avatars/p (8).jpg'),
('2021005', 'ad6a280417a0f533d8b670c61667e1a0', 0, 'avatars/p (9).jpg');

-- ========================================
-- 管理员详细信息（admins表）
-- ========================================

-- 插入管理员详细信息
INSERT INTO admins (user_id, username, permissions) VALUES 
(1, 'admin', '["user_management", "course_management", "system_config"]');

-- ========================================
-- 教师详细信息（teachers表）
-- ========================================

-- 插入教师详细信息
INSERT INTO teachers (user_id, name, teacher_no, phone, email, department, research_area, balance) VALUES 
(2, '张三', 'T001', '13800000001', 'zhangsan@vcampus.edu.cn', '计算机学院', 'Java程序设计,软件工程', 0.00),
(3, '李四', 'T002', '13800000002', 'lisi@vcampus.edu.cn', '计算机学院', '数据结构与算法,算法设计', 0.00),
(4, '王五', 'T003', '13800000003', 'wangwu@vcampus.edu.cn', '计算机学院', '数据库系统,大数据技术', 0.00);

-- ========================================
-- 学生详细信息（students表）
-- ========================================

-- 插入学生详细信息
INSERT INTO students (user_id, name, student_no, gender, birth_date, phone, email, address, department, class_name, major, grade, grade_table_key, balance, enrollment_year) VALUES 
(5, '赵六', '2021001', 'male', '2003-05-15', '13800001001', 'zhaoliu@student.vcampus.edu.cn', '北京市海淀区', '计算机学院', '计科2101班', '计算机科学与技术', '4年级', 'CS2021001', 0.00, 2021),
(6, '钱七', '2021002', 'female', '2003-03-22', '13800001002', 'qianqi@student.vcampus.edu.cn', '上海市浦东新区', '计算机学院', '软工2101班', '软件工程', '4年级', 'SE2021002', 0.00, 2021),
(7, '孙八', '2021003', 'male', '2003-07-08', '13800001003', 'sunba@student.vcampus.edu.cn', '广州市天河区', '计算机学院', '信安2101班', '信息安全', '4年级', 'IS2021003', 0.00, 2021),
(8, '周九', '2021004', 'female', '2003-01-12', '13800001004', 'zhoujiu@student.vcampus.edu.cn', '深圳市南山区', '计算机学院', '计科2101班', '计算机科学与技术', '4年级', 'CS2021004', 0.00, 2021),
(9, '吴十', '2021005', 'male', '2003-09-30', '13800001005', 'wushi@student.vcampus.edu.cn', '杭州市西湖区', '计算机学院', '软工2101班', '软件工程', '4年级', 'SE2021005', 0.00, 2021);

-- ========================================
-- 课程信息（courses表）
-- ========================================

-- 插入课程信息（修正teacher_id引用teachers表）
INSERT INTO courses (course_code, course_name, credits, department, teacher_id, teacher_name, semester, academic_year, class_time, location, capacity, enrolled_count, status, description) VALUES 
('CS101', 'Java程序设计', 3, '计算机学院', 1, '张三', '2024春', '2023-2024', '周一 1-2节, 周三 3-4节', '教学楼A101', 50, 3, 'active', 'Java面向对象程序设计基础课程'),
('CS102', '数据结构与算法', 4, '计算机学院', 2, '李四', '2024春', '2023-2024', '周二 3-4节, 周四 1-2节', '教学楼A102', 45, 2, 'active', '数据结构基础与算法分析'),
('CS103', '数据库系统原理', 3, '计算机学院', 3, '王五', '2024春', '2023-2024', '周一 3-4节, 周五 1-2节', '教学楼A103', 40, 1, 'active', '关系数据库系统原理与应用'),
('CS104', '计算机网络', 3, '计算机学院', 1, '张三', '2024春', '2023-2024', '周三 1-2节, 周五 3-4节', '教学楼A104', 35, 0, 'active', '计算机网络基础与协议分析'),
('CS105', '软件工程', 3, '计算机学院', 2, '李四', '2024春', '2023-2024', '周二 1-2节, 周四 3-4节', '教学楼A105', 30, 0, 'active', '软件工程方法与项目管理');

-- ========================================
-- 课程时间表（course_schedules表）
-- ========================================

-- 插入课程时间表
INSERT INTO course_schedules (course_id, day_of_week, start_time, end_time, classroom, building, weeks) VALUES 
(1, 1, '08:00:00', '09:40:00', 'A101', '教学楼A', '1-16周'),
(1, 3, '10:00:00', '11:40:00', 'A101', '教学楼A', '1-16周'),
(2, 2, '10:00:00', '11:40:00', 'A102', '教学楼A', '1-16周'),
(2, 4, '08:00:00', '09:40:00', 'A102', '教学楼A', '1-16周'),
(3, 1, '10:00:00', '11:40:00', 'A103', '教学楼A', '1-16周'),
(3, 5, '08:00:00', '09:40:00', 'A103', '教学楼A', '1-16周');

-- ========================================
-- 选课记录（enrollments表）
-- ========================================

-- 插入选课记录（包含冗余信息字段）
INSERT INTO enrollments (student_id, course_id, semester, academic_year, enrollment_time, status, 
                        student_name, student_no, course_name, course_code, credits, teacher_name) VALUES 
(1, 1, '2024春', '2023-2024', '2024-02-15 10:00:00', 'enrolled', '赵六', '2021001', 'Java程序设计', 'CS101', 3, '张三'),
(2, 1, '2024春', '2023-2024', '2024-02-15 10:30:00', 'enrolled', '钱七', '2021002', 'Java程序设计', 'CS101', 3, '张三'),
(3, 1, '2024春', '2023-2024', '2024-02-15 11:00:00', 'enrolled', '孙八', '2021003', 'Java程序设计', 'CS101', 3, '张三'),
(1, 2, '2024春', '2023-2024', '2024-02-16 09:00:00', 'enrolled', '赵六', '2021001', '数据结构与算法', 'CS102', 4, '李四'),
(2, 2, '2024春', '2023-2024', '2024-02-16 09:30:00', 'enrolled', '钱七', '2021002', '数据结构与算法', 'CS102', 4, '李四'),
(3, 3, '2024春', '2023-2024', '2024-02-17 14:00:00', 'enrolled', '孙八', '2021003', '数据库系统原理', 'CS103', 3, '王五');

-- ========================================
-- 成绩记录（grades表）
-- ========================================

-- 插入成绩记录（包含冗余信息字段）
INSERT INTO grades (enrollment_id, student_id, course_id, teacher_id, semester, midterm_grade, final_grade, assignment_grade, total_grade, grade_point, grade_level,
                   student_name, student_no, course_name, course_code, credits, teacher_name, graded_time) VALUES 
(1, 1, 1, 1, '2024春', 85.0, 87.0, 90.0, 87.3, 3.7, 'B+', '赵六', '2021001', 'Java程序设计', 'CS101', 3, '张三', '2024-03-15 16:30:00'),
(2, 2, 1, 1, '2024春', 92.0, 90.0, 95.0, 91.7, 4.0, 'A', '钱七', '2021002', 'Java程序设计', 'CS101', 3, '张三', '2024-03-15 16:35:00'),
(3, 3, 1, 1, '2024春', 78.0, 80.0, 85.0, 80.6, 3.0, 'B', '孙八', '2021003', 'Java程序设计', 'CS101', 3, '张三', '2024-03-15 16:40:00'),
(4, 1, 2, 2, '2024春', 88.0, 85.0, 92.0, 87.8, 3.8, 'B+', '赵六', '2021001', '数据结构与算法', 'CS102', 4, '李四', '2024-03-20 10:20:00'),
(5, 2, 2, 2, '2024春', 95.0, 96.0, 98.0, 96.2, 4.0, 'A', '钱七', '2021002', '数据结构与算法', 'CS102', 4, '李四', '2024-03-20 10:25:00');

-- ========================================
-- 课程资源（course_resources表）
-- ========================================

-- 插入课程资源示例
INSERT INTO course_resources (course_id, resource_name, resource_type, file_path, file_size, uploader_id, description, is_public) VALUES 
(1, 'Java基础教程.pdf', 'document', '/resources/courses/java_tutorial.pdf', 2048000, 2, 'Java编程基础教程文档', 1),
(1, 'Java实验指导.doc', 'document', '/resources/courses/java_lab.doc', 512000, 2, '实验操作指导文档', 1),
(2, '数据结构课件.ppt', 'document', '/resources/courses/data_structure.ppt', 1024000, 3, '数据结构与算法课程课件', 1),
(2, '算法演示视频.mp4', 'video', '/resources/courses/algorithm_demo.mp4', 52428800, 3, '常用算法演示视频', 1),
(3, '数据库设计规范.pdf', 'document', '/resources/courses/db_design.pdf', 1536000, 4, '数据库设计规范与实践', 1);

-- ========================================
-- 图书信息（books表）
-- ========================================

-- 插入图书信息
INSERT INTO books (isbn, title, author, publisher, category, total_stock, available_stock, location, publication_date) VALUES
('978-7-111-54742-6', 'Java核心技术 卷I', 'Cay S. Horstmann', '机械工业出版社', '计算机技术', 5, 4, 'A区-计算机类', '2017-09-01'),
('978-7-111-54743-3', 'Java核心技术 卷II', 'Cay S. Horstmann', '机械工业出版社', '计算机技术', 3, 2, 'A区-计算机类', '2017-10-01'),
('978-7-115-28969-4', '算法导论', 'Thomas H. Cormen', '人民邮电出版社', '计算机技术', 4, 2, 'A区-计算机类', '2013-08-01'),
('978-7-111-55842-2', '深入理解计算机系统', 'Randal E. Bryant', '机械工业出版社', '计算机技术', 3, 1, 'A区-计算机类', '2016-01-01'),
('978-7-115-35208-1', 'MySQL必知必会', 'Ben Forta', '人民邮电出版社', '数据库', 6, 4, 'A区-数据库类', '2013-05-01'),
('978-7-111-26969-4', '设计模式', 'Erich Gamma', '机械工业出版社', '软件工程', 2, 1, 'B区-软件工程类', '2010-01-01'),
('978-7-115-48904-4', 'Spring实战', 'Craig Walls', '人民邮电出版社', '计算机技术', 4, 3, 'A区-计算机类', '2016-06-01'),
('978-7-121-31065-1', '计算机网络：自顶向下方法', 'James F. Kurose', '电子工业出版社', '计算机网络', 3, 2, 'A区-网络类', '2017-07-01'),

-- 文学
('978-7-5317-80001-1', '百年孤独', 'Gabriel García Márquez', '南海出版公司', '文学', 6, 4, 'B区-文学类', '2011-06-01'),
('978-7-5327-80002-8', '平凡的世界（全三册）', '路遥', '北京十月文艺出版社', '文学', 5, 3, 'B区-文学类', '2012-05-01'),

-- 计算机（“计算机”分类，区分于“计算机技术”）
('978-7-115-80003-5', 'Python编程：从入门到实践', 'Eric Matthes', '人民邮电出版社', '计算机', 8, 6, 'A区-计算机类', '2016-11-01'),
('978-7-302-80004-2', '数据结构与算法分析（C语言描述）', 'Mark Allen Weiss', '清华大学出版社', '计算机', 4, 3, 'A区-计算机类', '2013-03-01'),

-- 医学
('978-7-117-80005-9', '人体解剖学', '李某某', '人民卫生出版社', '医学', 5, 4, 'C区-医学类', '2015-09-01'),
('978-7-117-80006-6', '内科学（第9版）', '王某某', '人民卫生出版社', '医学', 3, 2, 'C区-医学类', '2018-07-01'),

-- 历史
('978-7-04-80007-3', '全球通史', '吴于廑;齐世荣', '高等教育出版社', '历史', 5, 4, 'D区-历史类', '2011-09-01'),
('978-7-80148-80008-0', '万历十五年', '黄仁宇', '生活·读书·新知三联书店', '历史', 4, 3, 'D区-历史类', '2006-10-01'),

-- 艺术
('978-7-80722-80009-7', '艺术的故事', 'E. H. 贡布里希', '广西美术出版社', '艺术', 4, 3, 'E区-艺术类', '2007-05-01'),
('978-7-115-80010-3', '设计色彩基础', '张某某', '人民邮电出版社', '艺术', 3, 3, 'E区-艺术类', '2015-03-15'),

-- 经济
('978-7-111-80011-0', '经济学原理（微观分册）', 'N. Gregory Mankiw', '机械工业出版社', '经济', 6, 5, 'F区-经济类', '2019-01-01'),
('978-7-300-80012-7', '宏观经济学', '曼昆', '中国人民大学出版社', '经济', 5, 4, 'F区-经济类', '2017-09-01'),

-- 教育
('978-7-5617-80013-4', '教育心理学', '皮连生', '华东师范大学出版社', '教育', 4, 4, 'G区-教育类', '2012-02-01'),
('978-7-302-80014-1', '现代教育技术', '刘某某', '清华大学出版社', '教育', 3, 2, 'G区-教育类', '2014-09-01'),

-- 哲学
('978-7-5321-80015-8', '苏菲的世界', 'Jostein Gaarder', '作家出版社', '哲学', 6, 6, 'H区-哲学类', '2007-08-01'),
('978-7-300-80016-5', '哲学的故事', '威尔·杜兰特', '中国人民大学出版社', '哲学', 3, 2, 'H区-哲学类', '2013-04-01'),

-- 法律
('978-7-5036-80017-2', '民法总则解析', '梁慧星', '法律出版社', '法律', 4, 3, 'I区-法律类', '2017-04-01'),
('978-7-5036-80018-9', '刑法学', '张明楷', '法律出版社', '法律', 3, 2, 'I区-法律类', '2011-09-01'),

-- 管理
('978-7-300-80019-6', '管理学', 'Stephen P. Robbins', '中国人民大学出版社', '管理', 6, 5, 'J区-管理类', '2013-01-01'),
('978-7-111-80020-2', '项目管理：计划、进度与控制', 'Harold Kerzner', '机械工业出版社', '管理', 4, 3, 'J区-管理类', '2015-10-01'),

-- 社会科学
('978-7-108-80021-9', '社会学的想象力', 'C. Wright Mills', '商务印书馆', '社会科学', 4, 3, 'K区-社会科学类', '2003-01-01'),
('978-7-108-80022-6', '乌合之众', '古斯塔夫·勒庞', '商务印书馆', '社会科学', 5, 5, 'K区-社会科学类', '2011-05-01'),

-- 语言学
('978-7-301-80023-3', '语言学概论', '胡壮麟', '北京大学出版社', '语言学', 4, 3, 'L区-语言学类', '2011-09-01'),
('978-7-301-80024-0', '现代汉语（上）', '黄伯荣;廖序东', '北京大学出版社', '语言学', 5, 4, 'L区-语言学类', '2007-06-01'),

-- 地理
('978-7-5031-80025-7', '中国地理通识', '李某某', '中国地图出版社', '地理', 3, 3, 'M区-地理类', '2014-10-01'),
('978-7-121-80026-4', '世界地理概论', '王某某', '电子工业出版社', '地理', 2, 2, 'M区-地理类', '2012-03-01'),

-- 政治
('978-7-300-80027-1', '政治学导论', 'Andrew Heywood', '中国人民大学出版社', '政治', 5, 4, 'N区-政治类', '2016-05-01'),
('978-7-300-80028-8', '比较政治学', '阿伦德·莱普哈特', '中国人民大学出版社', '政治', 3, 2, 'N区-政治类', '2010-11-01'),

-- 环境
('978-7-04-80029-5', '环境科学概论', '徐寿波', '高等教育出版社', '环境', 4, 4, 'O区-环境类', '2010-09-01'),
('978-7-115-80030-1', '可持续发展导论', '陈某某', '人民邮电出版社', '环境', 3, 2, 'O区-环境类', '2018-06-01'),

-- 工程
('978-7-04-80031-8', '工程力学', '刘鸿文', '高等教育出版社', '工程', 6, 5, 'P区-工程类', '2014-01-01'),
('978-7-121-80032-5', '机械设计基础', '濮良贵', '电子工业出版社', '工程', 4, 3, 'P区-工程类', '2012-09-01'),

-- 心理学
('978-7-115-80033-2', '心理学与生活', 'Richard J. Gerrig', '人民邮电出版社', '心理学', 6, 5, 'Q区-心理学类', '2016-09-01'),
('978-7-5327-80034-9', '认知心理学', 'Eysenck', '北京十月文艺出版社', '心理学', 3, 3, 'Q区-心理学类', '2014-04-01'),

-- 宗教
('978-7-5426-80035-6', '世界宗教概论', '休斯顿·史密斯', '上海三联书店', '宗教', 3, 2, 'R区-宗教类', '2000-06-01'),
('978-7-108-80036-3', '佛教哲学导论', '任某某', '商务印书馆', '宗教', 2, 2, 'R区-宗教类', '2013-12-01'),

-- 军事
('978-7-101-80037-0', '孙子兵法', '孙武', '中华书局', '军事', 5, 5, 'S区-军事类', '2012-01-01'),
('978-7-101-80038-7', '战争论（选编）', '克劳塞维茨', '中华书局', '军事', 3, 2, 'S区-军事类', '2008-05-01'),

-- 体育
('978-7-5009-80039-4', '篮球基础教程', '国家体育总局', '人民体育出版社', '体育', 4, 4, 'T区-体育类', '2015-07-01'),
('978-7-5009-80040-0', '运动解剖学', '薛某某', '人民体育出版社', '体育', 3, 2, 'T区-体育类', '2013-03-01');

-- ========================================
-- 借阅记录（borrow_records表）
-- ========================================

-- 插入借阅记录
INSERT INTO borrow_records (user_id, book_id, borrow_time, due_time, return_time, status) VALUES
(5, 1, '2024-03-01 10:00:00', '2024-04-01 10:00:00', NULL, 3),
(6, 4, '2024-03-05 14:30:00', '2024-04-05 14:30:00', NULL, 3),
(7, 5, '2024-03-10 09:15:00', '2024-04-10 09:15:00', '2024-03-25 16:20:00', 2),
(5, 1,  '2024-04-01 10:00:00','2024-05-01 10:00:00',NULL,2),
(5, 2,  '2024-04-03 09:20:00','2024-05-03 09:20:00',NULL,3),
(5, 3,  '2024-04-05 14:10:00','2024-05-05 14:10:00',NULL,1),
(5, 4,  '2024-04-08 16:45:00','2024-05-08 16:45:00',NULL,3),
(5, 5,  '2024-04-10 11:30:00','2024-05-10 11:30:00',NULL,2),
(5, 6,  '2024-04-12 09:00:00','2024-05-12 09:00:00',NULL,1),
(5, 7,  '2024-04-14 15:20:00','2024-05-14 15:20:00',NULL,2),
(5, 8,  '2024-04-16 13:05:00','2024-05-16 13:05:00',NULL,1),
(5, 9,  '2024-04-18 10:10:00','2024-05-18 10:10:00',NULL,3),
(5, 10, '2024-04-19 17:40:00','2024-05-19 17:40:00',NULL,1);

-- ========================================
-- 初始化文献
-- ========================================

INSERT INTO library_documents
(title, authors, year, category, subject, keywords, abstract_txt, file_type, file_size, storage_path, uploader_id, is_public)
VALUES
('基于机器学习方法的操作系统优化研究综述', '黄卓懿；彭龙；徐浩；李琢；刘晓东；刘敏；余杰', 2025, '期刊', '计算机', '操作系统;机器学习;进程调度;内存管理;',
 '随着计算机硬件与应用的快速发展，现代操作系统在硬件资源管理方面面临巨大挑战。机器学习为操作系统优化提供了创新解决方案。综述基于机器学习的操作系统资源管理方法，总结机器学习模型在操作系统中的具体应用案例，分析其优势与局限性，并探讨当前研究面临的挑战。最后对未来研究方向及应用前景进行展望.', 'pdf', 1020761,
 '/docs/计算机/2025/基于机器学习方法的操作系统优化研究综述_黄卓懿.pdf', 2, 1),
 ('基于U-Net神经网络的采煤塌陷类型识别', '杨书平', 2025, '期刊', '计算机', 'U-Net;深度学习;塌陷区识别;采煤塌陷区;',
  '针对地下煤炭资源被开采利用，出现大规模采空区，产生大面积沉陷，威胁到矿区的安全生产和人们的人身安全问题。本研究首先对鹤岗矿区遥感影像进行预处理、数据集的制作，然后用U-Net卷积神经网络训练模型，修改训练参数，进行塌陷坑、地裂缝、塌陷盆地的识别，整体精度达到97.58%，表明此次模型训练结果较准确。从而得到鹤岗矿区地裂缝、塌陷坑、塌陷盆地的具体分布图，发现盆地的查准率最高，地裂缝识别效果其次，塌陷坑由于本身形状及特征的因素影响，识别的效果差于其他两类地物，分析上述三类地物的精度指标，证明了U-Net网络模型适合于本次研究的研究，为复垦、治理采空塌陷区提供基础资料具有重要的意义。', 'pdf', 174533,
  '/docs/计算机/2025/基于U-Net神经网络的采煤塌陷类型识别_杨书平.pdf', 2, 1),
 ('论叙事静默的双重组合', '涂年根', 2025, '期刊', '社会科学', '叙事静默;双重组合;虚与实;简洁与繁复;',
  '叙事静默的双重组合主要是指在静默叙事中，静默作为一种隐形的存在，总是以双重组合的方式出现，即“虚与实”的相互映衬、“简洁与繁复”相互依存，这种双重的组合方式之间相互印证，缺一不可。分析文本的过程中，只有同时考察两者之间的关系，才能发现静默存在的价值与意义。叙事静默双重组合的存在可以增强叙事交流的层次感、深化主题的表达，同时也会激发读者的想象力，实现对文本中“无言意义”活动的阐释。', 'pdf', 1701000,
  '/docs/社会科学/2025/论叙事静默的双重组合_涂年根.pdf', 2, 1),
 ('论基特勒对《德古拉》的媒介化解读', '张梦杨', 2022, '期刊', '哲学', '《德古拉》;基特勒;媒介技术;话语网络;新女性;',
  '斯托克的《德古拉》是吸血鬼文学作品中的经典,围绕它的研究以考察作品主题和分析吸血鬼形象的嬗变为代表。媒介理论家基特勒注意到《德古拉》中出现的新型媒介设备,他对《德古拉》展开的媒介化解读,将德古拉的死因归为打字机和留声机的使用,掌握打字技术的米娜·哈克在实现媒介技术融合的同时,成为拥有书写能力的“新女性”。基特勒提出的话语网络概念是理解《德古拉》媒介化解读的关键。话语网络1900的“离散化”“媒介化”特征在《德古拉》中得到诠释,基特勒对打字机与女性关系的思考,说明了女性在话语网络1800和1900的身份转换,以米娜·哈克为典型的女性借由打字机参与了话语的流通与建构。', 'pdf', 1024759,
  '/docs/哲学/2022/论基特勒对《德古拉》的媒介化解读_张梦杨.pdf', 2, 1),
  ('异构算力调度的自适应强化学习方法','李明;王珊',2023,'期刊','计算机','强化学习;异构;调度;分布式','提出在多租户负载下的自适应RL调度器，显著降低等待时间。','pdf',812376,'/docs/计算机/2023/异构算力调度_RL.pdf',2,1),
  ('大模型蒸馏在边缘端部署的工程实践','周一;赵二',2024,'会议','计算机','蒸馏;量化;边缘推理','总结边缘设备上大模型的蒸馏/量化与精度-延迟权衡。','pdf',645221,'/docs/计算机/2024/LLM_蒸馏_边缘实践.pdf',2,1),
  ('新媒体语境下叙事视角的演化','陈若水',2022,'期刊','文学','叙事学;新媒体;受众参与','讨论短视频与互动文本对传统叙事视角的冲击及融合。','pdf',503119,'/docs/文学/2022/新媒体叙事视角.pdf',3,1),
  ('古典诗歌教学的情境式设计','苏白',2021,'报告','文学','古典诗歌;教学设计','提出基于语境构建的古典诗歌教学活动方案与量表。','pdf',421003,'/docs/文学/2021/古典诗歌_情境教学.pdf',3,1),
  ('数据驱动的精益管理体系框架','郝齐;崔歌',2020,'白皮书','管理','精益;数据治理;流程优化','给出从数据治理到流程持续改进的一体化框架与指标。','pdf',733251,'/docs/管理/2020/精益管理_数据驱动_白皮书.pdf',4,1),
  ('联邦学习在多中心医学影像中的隐私保护','王晨;丁一',2024,'期刊','医学','联邦学习;医学影像;隐私','在不汇聚原始数据前提下协同分割并评估隐私预算影响。','pdf',982211,'/docs/医学/2024/联邦学习_医学影像.pdf',2,1),
  ('丝绸之路城市网络的时空演化','韩枫',2019,'学位论文','历史','丝绸之路;GIS;城市网络','基于GIS复原节点城市通达性变化并讨论贸易结构影响。','pdf',612000,'/docs/历史/2019/丝绸之路_城市网络_博士论文.pdf',5,0),
  ('数字博物馆中的沉浸式交互设计','林意',2023,'会议','艺术','数字博物馆;沉浸式;交互','提出分层叙事+任务引导的沉浸展陈原型并做用户研究。','pdf',701122,'/docs/艺术/2023/数字博物馆_沉浸交互.pdf',6,1),
  ('平台经济的价格歧视与监管','宋衡',2022,'期刊','经济','平台;价格歧视;监管','从二级价格歧视视角分析个性化定价与消费者剩余变化。','pdf',577901,'/docs/经济/2022/平台经济_价格歧视.pdf',7,1),
  ('学习分析仪表盘对自我调节学习的影响','刘晴',2021,'期刊','教育','学习分析;SRL;可视化','在混合课程中进行随机对照实验评估学习分析仪表盘。','pdf',455889,'/docs/教育/2021/学习分析_SRL.pdf',3,1),
  ('技术理性与人文关怀的张力','许岸',2018,'报告','哲学','技术理性;价值','讨论技术扩张与人的目的性之间的哲学张力。','pdf',388211,'/docs/哲学/2018/技术理性与人文.pdf',2,1),
  ('算法透明度的合规框架研究','郑徽',2025,'标准','法律','算法透明;可解释;合规','提出面向算法系统的分级披露与可解释义务建议稿。','pdf',590012,'/docs/法律/2025/算法透明_合规_建议标准.pdf',2,1),
  ('代际流动与教育机会的分解测度','周扬',2020,'期刊','社会科学','代际流动;教育公平','利用再中心化影响函数进行教育回报差异分解。','pdf',520300,'/docs/社会科学/2020/代际流动_教育机会.pdf',2,1),
  ('多语场景下的代码转换语料库构建','张岚',2023,'技术文档','语言学','代码转换;语料库;标注','提出多粒度标注方案与一致性检验流程。','pdf',341227,'/docs/语言学/2023/代码转换_语料库_规范.pdf',8,1),
  ('城市热岛的遥感反演与缓解策略','邱行',2019,'期刊','地理','热岛;遥感;绿地;风廊道','以多时相数据反演地表温度并评估绿地规划效果。','pdf',466001,'/docs/地理/2019/城市热岛_遥感.pdf',5,1),
  ('公共政策评估中的因果推断工具箱','童以',2022,'教材','政治','政策评估;因果推断','系统介绍准实验方法与实现要点。','pdf',1100222,'/docs/政治/2022/因果推断_政策评估_教材.pdf',1,1),
  ('碳市场配额拍卖机制的效率比较','冯屿',2021,'期刊','环境','碳市场;拍卖;效率','比较两种结算机制在不同参与者行为下的效率差异。','pdf',512778,'/docs/环境/2021/碳市场_拍卖机制.pdf',4,1),
  ('高铁桥梁健康监测的数据集与基线模型','盛科',2024,'数据集','工程','结构健康监测;异常检测','发布多桥位长期监测数据与基线模型。','zip',240011223,'/docs/工程/2024/桥梁监测_数据集.zip',9,1),
  ('青少年情绪识别的跨模态信号融合','程凝',2020,'期刊','心理学','情绪识别;多模态;EEG','通过EEG与面部表情融合提升识别精度并探讨可解释性。','pdf',688902,'/docs/心理学/2020/跨模态_情绪识别.pdf',2,1),
  ('宗教空间与社区治理的互动','高笙',2017,'期刊','宗教','社区治理;宗教空间;社会资本','分析宗教空间在社区互助网络中的作用。','pdf',399002,'/docs/宗教/2017/宗教空间_社区治理.pdf',6,0),
  ('无人集群的协同控制协议','陆行',2023,'专利','军事','无人机;协同控制;编队','提出分布式一致性控制协议及实现。','pdf',722118,'/docs/军事/2023/无人集群_协同控制_专利.pdf',2,1),
  ('高校体测数据的异常点检测与干预','柏原',2022,'期刊','体育','体测;异常检测;干预','结合孤立森林与规则库的体测异常识别与干预建议。','pdf',501772,'/docs/体育/2022/体测_异常检测.pdf',3,1);


-- ========================================
-- 商品信息（products表）
-- ========================================

-- 插入商品信息
INSERT INTO products (product_name, description, price, stock, category, status) VALUES 
('笔记本', '学生专用笔记本，A4大小，100页', 8.50, 200, '文具用品', 'available'),
('圆珠笔', '蓝色圆珠笔，书写流畅', 2.00, 500, '文具用品', 'available'),
('橡皮擦', '4B橡皮擦，擦除干净不留痕', 1.50, 300, '文具用品', 'available'),
('计算器', '科学计算器，适合理工科学生', 45.00, 50, '电子产品', 'available'),
('U盘', '32GB USB3.0 U盘', 35.00, 100, '电子产品', 'available'),
('矿泉水', '550ml纯净水', 2.50, 1000, '饮品食品', 'available'),
('面包', '全麦吐司面包', 6.00, 80, '饮品食品', 'available'),
('咖啡', '速溶咖啡，提神醒脑', 15.00, 150, '饮品食品', 'available'),
('苹果', '新鲜红富士苹果，1个装', 3.00, 200, '饮品食品', 'available'),
('牛奶', '纯牛奶250ml', 4.50, 120, '饮品食品', 'available');

-- ========================================
-- 订单记录（orders表）
-- ========================================

-- 插入订单记录
INSERT INTO orders (order_no, user_id, total_amount, status, created_time) VALUES 
('ORD202403150001', 5, 25.50, 'paid', '2024-03-15 10:30:00'),
('ORD202403160001', 6, 47.00, 'paid', '2024-03-16 14:20:00');

-- ========================================
-- 订单明细（order_items表）
-- ========================================

-- 插入订单明细
INSERT INTO order_items (order_id, product_id, quantity, unit_price, subtotal) VALUES 
(1, 1, 2, 8.50, 17.00),
(1, 2, 3, 2.00, 6.00),
(1, 3, 1, 1.50, 1.50),
(1, 6, 1, 2.50, 2.50),
(2, 4, 1, 45.00, 45.00),
(2, 2, 1, 2.00, 2.00);

-- 先插入论坛板块
INSERT INTO forum_sections (name, description, sort_order, status) VALUES
('学术交流', '课程/学术问题讨论', 1, 1),
('校园生活', '生活/活动/社团', 2, 1),
('二手交易', '闲置物品交易', 3, 1),
('失物招领', '失物与招领信息', 4, 1),
('求助咨询', '问题求助与咨询', 5, 1);

-- 插入论坛主题（补充 section_id / is_essence / like_count / favorite_count / last_post_time）
INSERT INTO forum_threads (title, content, author_id, section_id, category, is_essence, reply_count, view_count, like_count, favorite_count, is_pinned, is_locked, status, created_time, last_post_time) VALUES 
('欢迎来到vCampus虚拟校园！', '大家好，欢迎使用vCampus虚拟校园系统！这里是我们的交流平台，可以分享学习心得、讨论课程内容、交流生活感悟。让我们一起营造一个积极向上的学习氛围！', 1, 1, '公告', TRUE, 2, 150, 2, 5, TRUE, FALSE, 1, '2024-03-05 09:00:00', '2024-03-07 14:20:00'),
('Java程序设计课程讨论', '有同学在学习Java面向对象编程时遇到困难吗？欢迎在这里讨论交流，互相帮助！', 2, 1, '学习交流', FALSE, 3, 89, 1, 2, FALSE, FALSE, 1, '2024-03-08 10:15:00', '2024-03-10 09:15:00'),
('图书馆新书推荐', '最近图书馆新进了一批计算机类书籍，推荐大家借阅学习。特别推荐《算法导论》和《深入理解计算机系统》。', 3, 2, '图书推荐', FALSE, 1, 67, 0, 1, FALSE, FALSE, 1, '2024-03-09 15:30:00', '2024-03-10 11:30:00'),
('校园商店优惠活动', '本月校园商店文具用品八折优惠，需要购买学习用品的同学不要错过哦！', 1, 2, '活动通知', FALSE, 0, 45, 0, 0, FALSE, FALSE, 1, '2024-03-12 08:45:00', NULL);

-- ========================================
-- 插入论坛回复（补充 like_count / 层级 / 路径）
INSERT INTO forum_posts (thread_id, content, author_id, parent_post_id, reply_level, reply_path, like_count, created_time) VALUES 
(1, '系统界面很友好，功能很全面，点赞！', 5, NULL, 0, '1', 1, '2024-03-06 10:30:00'),
(1, '期待更多功能的上线，加油！', 6, NULL, 0, '2', 0, '2024-03-07 14:20:00'),
(2, '我在学习继承和多态时有些困惑，有同学能帮忙解答一下吗？', 7, NULL, 0, '3', 0, '2024-03-09 16:45:00'),
(2, '建议多做练习题，理论结合实践才能更好理解。', 8, 3, 1, '3/4', 0, '2024-03-09 17:10:00'),
(2, '可以参考一下《Java核心技术》这本书，讲得很详细。', 5, NULL, 0, '5', 1, '2024-03-10 09:15:00'),
(3, '《算法导论》确实是经典教材，值得深入学习！', 9, NULL, 0, '6', 0, '2024-03-10 11:30:00');

-- 标签与主题-标签
INSERT INTO forum_tags (tag_name) VALUES ('Java'), ('学习'), ('公告'), ('活动'), ('图书');
INSERT INTO forum_thread_tags (thread_id, tag_id) VALUES 
(1, 3), (1, 2),
(2, 1), (2, 2),
(3, 5),
(4, 4);

-- 点赞（主题/回复）示例
INSERT INTO forum_likes (entity_type, entity_id, user_id, created_time) VALUES 
('thread', 1, 5, '2024-03-06 10:35:00'),
('thread', 1, 6, '2024-03-07 14:25:00'),
('thread', 2, 7, '2024-03-09 16:50:00'),
('post', 1, 6, '2024-03-07 14:25:00'),
('post', 3, 8, '2024-03-09 17:15:00');

-- 收藏示例
INSERT INTO forum_favorites (thread_id, user_id, created_time) VALUES 
(1, 5, '2024-03-06 10:40:00'),
(2, 6, '2024-03-08 10:20:00');

-- 附件示例（为主题与回复各插入一个）
INSERT INTO forum_attachments (entity_type, entity_id, file_name, file_type, file_size, storage_path, uploader_id) VALUES 
('thread', 2, 'java-oop-tips.pdf', 'application/pdf', 204800, '/uploads/forum/2/java-oop-tips.pdf', 2),
('post', 3, 'question.png', 'image/png', 102400, '/uploads/forum/posts/3/question.png', 7);

-- 公告示例
INSERT INTO forum_announcements (title, content, is_pinned, status, created_time) VALUES 
('欢迎使用校园论坛系统！', '请遵守论坛规则，文明发言。', TRUE, 1, '2024-03-05 08:30:00'),
('期末考试安排已发布', '请进入教务系统查看详细安排。', TRUE, 1, '2024-03-08 09:00:00');

-- 浏览日志（简化）
INSERT INTO forum_views (thread_id, user_id, ip_hash, viewed_at) VALUES 
(1, 5, 'iphash-a', '2024-03-06 10:30:00'),
(1, 6, 'iphash-b', '2024-03-07 14:20:00'),
(2, 7, 'iphash-c', '2024-03-09 16:45:00');

-- 举报与日志示例
INSERT INTO forum_reports (entity_type, entity_id, reporter_id, reason, status, created_time) VALUES 
('post', 4, 5, '不友善言论', 0, '2024-03-09 17:20:00');
INSERT INTO forum_moderation_logs (entity_type, entity_id, action, operator_id, detail, created_time) VALUES 
('thread', 1, 'pin', 1, '置顶公告', '2024-03-05 09:05:00');

-- 通知示例
INSERT INTO forum_notifications (user_id, type, payload, is_read, created_time) VALUES 
(2, 'reply', JSON_OBJECT('threadId', 2, 'postId', 3, 'fromUser', 7), FALSE, '2024-03-09 16:50:00'),
(3, 'like', JSON_OBJECT('entity','thread','entityId', 3, 'fromUser', 9), TRUE, '2024-03-10 11:35:00');

-- ========================================
-- 系统配置（system_configs表）
-- ========================================

-- 插入系统配置
INSERT INTO system_configs (config_key, config_value, description, config_type, is_public) VALUES 
('system.name', 'vCampus虚拟校园系统', '系统名称', 'string', true),
('system.version', '1.0.0', '系统版本', 'string', true),
('borrow.max.books', '10', '最大借书数量', 'number', false),
('borrow.days', '7', '借书天数', 'number', false),
('student.max.credits', '30', '学生最大选课学分', 'number', false);

-- ========================================
-- 更新统计数据
-- ========================================

-- 更新课程的已选人数
UPDATE courses SET enrolled_count = (
    SELECT COUNT(*) FROM enrollments WHERE course_id = courses.course_id AND status = 'enrolled'
);

-- 更新图书的可借库存
UPDATE books SET available_stock = total_stock - (
    SELECT COUNT(*) FROM borrow_records WHERE book_id = books.book_id AND status = 1
);

-- 更新论坛主题的回复数
UPDATE forum_threads SET reply_count = (
    SELECT COUNT(*) FROM forum_posts WHERE thread_id = forum_threads.thread_id AND status = 1
);